import{c as i,r as L,o as r,a as f,w as S,b as j,u as e,d as a,t as u,i as T,e as d,f as g,T as $,F as M,g as C,h as q,j as I,n as A}from"./index.e9cf5349.js";import{_ as N,T as O}from"./TheLoader.b5ef070e.js";const V={class:"flex flex-col justify-between items-center gap-2 mt-2"},G=["title"],E=["title"],F={class:"text-md text-fuchsia-600 font-bold text-center"},z={__name:"BookItem",props:{id:{type:String,required:!0},imageSrc:{type:String,required:!1},title:{type:String,required:!1,default:""},authors:{type:Array,required:!1,default:null},categories:{type:Array,required:!1,default:null}},setup(x){const t=x,l=i(()=>{var s;return(s=t.title)!=null?s:"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"}),n=i(()=>{var s;return t.title.length>60?t.title.slice(0,60)+"...":(s=t.title)!=null?s:"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"});i(()=>t.authors?t.authors.join(", "):"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}");const c=i(()=>{var s;return((s=t.authors)==null?void 0:s.length)>5?t.authors.slice(0,5).join(", ")+" \u0438 \u0434\u0440\u0443\u0433\u0438\u0435":t.authors?t.authors.join(", "):"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"}),_=i(()=>t.categories?t.categories.join(", "):"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}");return(s,m)=>{const h=L("router-link");return r(),f(h,{to:"/b/"+t.id,class:"block py-4 p-2 sm:p-5 rounded shadow-md bg-white hover:bg-purple-50 transition-colors"},{default:S(()=>{var p;return[j(N,{src:t.imageSrc,alt:e(l)},null,8,["src","alt"]),a("div",V,[a("div",{class:"text-xl text-center",title:(p=e(l))!=null?p:"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"},u(e(n)),9,G),a("div",{class:"text-sm italic text-center",title:e(l)},u(e(c)),9,E),a("div",F,u(e(_)),1)])]}),_:1},8,["to"])}}};const D={key:1,class:"my-5"},H={class:"mb-2"},K=C("\u041D\u0430\u0439\u0434\u0435\u043D\u043E "),R=C(" \u043A\u043D\u0438\u0433"),J=["disabled"],P={key:2,class:"mt-12 text-center font-bold text-2xl text-gray-500"},W={__name:"Main",emits:["fetchMoreBooks"],setup(x,{emit:t}){const{totalBooks:l,books:n,isLoading:c,isMoreLoading:_,fetchMoreBooks:s,removeMoreLoadingBtn:m}=T("main"),h=i(()=>["p-5","rounded","shadow-md","bg-white","hover:bg-purple-50","transition-colors","disabled:cursor-not-allowed","disabled:bg-gray-100",[m.value?"hidden":"block"]]);return(p,v)=>(r(),d(M,null,[e(c)?(r(),f(O,{key:0})):g("",!0),e(n).length&&!e(c)?(r(),d("div",D,[a("div",H,[K,a("b",null,u(e(l)),1),R]),j($,{tag:"div",name:"list",class:"grid gap-12 grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},{default:S(()=>[(r(!0),d(M,null,q(e(n),o=>{var y,b,k,B,w;return r(),f(z,{key:o.id,id:o.id,"image-src":(b=(y=o.volumeInfo)==null?void 0:y.imageLinks)==null?void 0:b.thumbnail,title:(k=o.volumeInfo)==null?void 0:k.title,authors:(B=o.volumeInfo)==null?void 0:B.authors,categories:(w=o.volumeInfo)==null?void 0:w.categories},null,8,["id","image-src","title","authors","categories"])}),128)),e(m)?g("",!0):(r(),d("button",{key:0,onClick:v[0]||(v[0]=I((...o)=>e(s)&&e(s)(...o),["prevent"])),disabled:e(_)||e(m),class:A(e(h))},u(e(_)?"\u041F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435 ...":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0435\u0449\u0451 +"),11,J))]),_:1})])):g("",!0),!e(n).length&&!e(c)?(r(),d("div",P," GO GO SEARCH BOOKS!!! ")):g("",!0)],64))}};export{W as default};
