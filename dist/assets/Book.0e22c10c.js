import{k as C,l as N,m as y,c as D,p as H,r as R,o as n,a as z,e as l,d as e,b,w as A,t as a,u as I,f as B,g as E}from"./index.e9cf5349.js";import{_ as F,T as P}from"./TheLoader.b5ef070e.js";const S={key:1,class:"my-5"},$={key:0,class:"grid gap-5 grid-cols-4"},q={class:"flex flex-col gap-5 col-span-4 sm:col-span-4 lg:col-span-1"},G=E(" \u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u0441\u043F\u0438\u0441\u043A\u0443 \u043A\u043D\u0438\u0433 "),J={class:"flex flex-col gap-2 items-center h-max py-4 p-2 sm:p-5 rounded shadow-md bg-white"},K={class:"text-gray-800 uppercase font-bold leading-normal"},O={class:"text-md text-gray-400 leading-normal"},Q=["href"],U=e("span",null,"\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C PDF",-1),W=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),X=[U,W],Y={class:"col-span-4 sm:col-span-4 lg:col-span-3 block py-4 p-2 sm:p-5 rounded shadow-md bg-white"},Z={class:"italic text-gray-500"},ee={class:"my-4 text-[40px] font-bold text-gray-600"},oe={class:"mb-2 text-gray-800"},se=["innerHTML"],le={__name:"Book",setup(te){const L=C(),j=N(),r=y(!0),{id:M}=j.params,o=y(null),c=D(()=>{var s,t;return(t=(s=o.value.accessInfo)==null?void 0:s.webReaderLink)==null?void 0:t.replace("play","books")}),T=()=>L.push("/");return H(async()=>{try{const t=await(await fetch("https://www.googleapis.com/books/v1/volumes/"+M)).json();if(t.error)throw"Book not found";o.value=t,r.value=!1}catch(s){console.log("error =>",s),T()}}),(s,t)=>{var i,d,u,p,m,h,_,v,f,g,x,w,k;const V=R("router-link");return r.value?(n(),z(P,{key:0})):(n(),l("div",S,[o.value?(n(),l("div",$,[e("div",q,[b(V,{to:"/",class:"flex flex-col gap-2 items-center h-max py-4 p-2 sm:p-5 rounded shadow-md transition-colors bg-violet-500 hover:bg-violet-600 text-white font-bold"},{default:A(()=>[G]),_:1}),e("div",J,[b(F,{src:o.value.volumeInfo.imageLinks.thumbnail,alt:o.value.volumeInfo.title},null,8,["src","alt"]),e("div",K,a((d=(i=o.value.volumeInfo)==null?void 0:i.publisher)!=null?d:"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"),1),e("div",O,a((p=(u=o.value.volumeInfo)==null?void 0:u.publishedDate)!=null?p:"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"),1)]),I(c)?(n(),l("a",{key:0,href:I(c),class:"flex items-center justify-center gap-2 h-max py-4 p-2 sm:p-5 rounded shadow-md w-full rounded bg-purple-500 text-white transition-colors hover:bg-purple-600",target:"_blank"},X,8,Q)):B("",!0)]),e("div",Y,[e("div",null,[e("div",Z,a((_=(h=(m=o.value.volumeInfo)==null?void 0:m.categories)==null?void 0:h.join(", "))!=null?_:"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"),1),e("div",ee,a((v=o.value.volumeInfo.title)!=null?v:"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"),1),e("div",oe,a((x=(g=(f=o.value.volumeInfo)==null?void 0:f.authors)==null?void 0:g.join(", "))!=null?x:"{\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E}"),1),e("div",{class:"text-md text-gray-500",innerHTML:(k=(w=o.value.volumeInfo)==null?void 0:w.description)!=null?k:""},null,8,se)])])])):B("",!0)]))}}};export{le as default};
